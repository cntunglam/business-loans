// Enhanced visitor tracking system for multi-step loan applications
model VisitorData {
  id     String  @id @default(uuid())
  userId String? // Optional - for logged in users
  user   User?   @relation(fields: [userId], references: [id])

  // Application metadata
  loanRequestType String
  currentStep     String? // Track current step
  referer         String?
  isCompleted     Boolean @default(false)

  borrowAmount  Float?
  borrowPeriod  Int?
  borrowPurpose String?

  // Required fields only
  fullName    String?
  cccdNumber  String?
  phoneNumber String?
  email       String?
  dateOfBirth DateTime?

  // Current Address
  streetAddress String?
  city          String?
  province      String?

  monthlyIncome Float? @default(0)

  jobTitle String?

  hasLaborContract Boolean?

  residencyStatus String?

  lastActiveAt DateTime @updatedAt

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@schema("public")
}
