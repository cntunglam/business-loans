// Enhanced visitor tracking system for multi-step loan applications
model VisitorData {
  id     String  @id @default(uuid())
  userId String? // Optional - for logged in users
  user   User?   @relation(fields: [userId], references: [id])

  // Application metadata
  loanRequestType String
  currentStep     String? // Track current step
  referrer        String?
  isCompleted     Boolean @default(false)

  borrowAmount  Float?
  borrowPeriod  Int?
  borrowPurpose String?

  // Required fields only
  fullName    String?
  cccdNumber  String?
  phoneNumber String?
  dateOfBirth DateTime?

  // Current Address
  currentAddress String?

  monthlyIncome Float? @default(0)

  employmentType String?

  hasLaborContract Boolean?

  residencyStatus String?

  lastActiveAt DateTime @updatedAt

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  zohoCrmId String?

  @@schema("public")
}
